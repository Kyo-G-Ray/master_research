\input{texheder.tex}
\usepackage{setspace} % setspaceパッケージのインクルード
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{amsmath}
%「Weekly Report」 
\newcommand{\Weekly}[5]{
\twocolumn[
 \begin{center}
  \bf
 第 #1 回　Weekly Report\\
 \huge
電気使用量予測のための深層学習手法\\

 \end{center}
 \begin{flushright}
  #2 月\ \ \  #3 日 \ \ \ #4 \\\
  #5
 \end{flushright}
]
}
%\setstretch{0.5} % ページ全体の行間を設定

\begin{document}

\Weekly{9}{11}{30}{(火)}{\ 小松　大起}
\section{はじめに}
\subsection{研究背景}
2011 年 3 月 11 日に発生した東日本大震災以降,  低コストかつ効率的な発電方法であり全体の 2 割から 4 割を占めていた原子力発電は安全性に問題があるとされ 2021 年 5 月現在では停止中の 2 基も合わせて合計 9 基の原子力発電所が稼働するのみとなっている\cite{1}. 
それにより, 原子力発電よりコストの高い火力発電での発電量が増え発電コストの増加による電気料金の値上げが生じ,  我々消費者の負担増加に繋がっている\cite{2}.

\subsection{研究目的}
電気使用量は人間の認知は時間経過による視覚世界の変化の予測が可能である. 近年では実際に予測動画を作る研究も行われてきている.[sankou2]電力使用量を予測することによる, 電気料金の予測が可能になると考えられる. 本研究では, 電力使用量を主データとし, 天気や気温が与えうる電力使用量の変化を考慮した電気使用料の予測を行うことを目的とする. 

\section{外れ値検出手法}
時系列データを平滑化する手法の一つに移動平均が存在しており, 移動平均は大きく分けて単純移動平均, 加重移動平均, 指数移動平均の 3 種類の手法が存在している. 移動平均は主に金融分野でのテクニカル分析や, 気象の分析などで用いられている手法である. 

単純移動平均（Simple Moving Average）は SMA とも呼ばれ, 直近 n 個のデータの平均を単純に重み付けをすることなくとり, 平滑化を行う手法である. 単純移動平均のデメリットとして, 重み付けを行わない手法であるため古いデータの影響を受けすぎてしまうという点が挙げられる. 

加重移動平均（Weighted Moving Average）は WMA とも呼ばれ, 一定の量ずつ重みを線形に減らしていき平滑化を行う手法のことである. 
n 個のデータからの WMA を求めたい場合には, 直近のデータの重みを n とし, その前のデータの重みを n-1 のように重みを減らしていき, 最終的な重みを 0 とすることにより古いデータに対して重みを減らしていくことで, 古いデータの影響を弱くする手法である. 

指数移動平均（Exponential Moving Average）は EMA とも呼ばれ, 
指数加重移動平均（Exponentially Weighted Moving Average）や指数平滑移動平均（Exponentially Smoothed Moving Average）と呼ばれることもある. 
EMA は WMA では線形に減らしていた重みを指数関数的に減らしていく手法である. 
本研究では, 指数移動平均を用いた時系列データの平滑化を行なった. 
10 日ごとでの期間で EMA を求め, その後求めた EMA の値から同じよう期間 10 日ごとで移動標準偏差（Moving Standard Deviation）の計算を行い, 移動標準偏差から n 倍以上大きい値や小さい値をそれぞれ外れ値として検出を行なった. 
それぞれ 1.3 倍, 1.4 倍, 1.5 倍, 2.0 倍の時の検出結果を Fig. から Fig. に示す. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!b]
 \begin{center}
    \includegraphics[scale=0.3]{./image/ema_13.eps}
    \caption{MSD が 1.3 倍以上の外れ値検出結果}
 \end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!b]
 \begin{center}
    \includegraphics[scale=0.3]{./image/ema_14.eps}
    \caption{MSD が 1.4 倍以上の外れ値検出結果}
 \end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!b]
 \begin{center}
    \includegraphics[scale=0.3]{./image/ema_15.eps}
    \caption{MSD が 1.5 倍以上の外れ値検出結果}
 \end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{figure}[!b]
 \begin{center}
    \includegraphics[scale=0.3]{./image/ema_2.eps}
    \caption{MSD が 2.0 倍以上の外れ値検出結果}
 \end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\section{修論}
修論 40％ 15 枚\\  
1 はじめに 40％1p\\
1.1 研究背景 50％\\
1.2 研究目的 30％\\

2 機械学習手法について 80％8p\\ 
2.1 教師あり学習手法 90％\\
2.1.1 SVM（Support Vector Machine）90％\\
2.1.2 決定木 90％\\
2.1.3 アンサンブル学習 90％\\
2.2 教師なし学習手法 90％\\
2.2.1 GAN（Generative Adversarial Networks） 90％\\
2.2.2 CGAN（Conditional GAN） 90％\\
2.2.3 DCGAN（Deep Convolutional GAN）90％\\
2.3 強化学習 90％\\
2.4 形式ニューロン 45％\\
2.4.1 単純パーセプトロン 90％\\
2.4.2 多層パーセプトロン 0％\\
2.7 CNN 90％\\
2.8 RNN 90％\\
2.9 LSTM 90％\\
2.10 深層学習モデルを用いたマルチモーダル予測 0％\\
%他の研究の紹介とともに自分の考えを説明

3 用いるデータについて 80％6p\\
3.1 電力使用量 90％\\
3.2 気温 90％\\
3.3 降水量 90％\\
3.4 天気 90％\\
3.5 各データ間の関係性 70％\\
3.5.1 相関係数 70％\\
3.5.2 相互情報量 70％\\

4 電力使用量予測のための深層学習 0％\\
4.1 RNN による予測 0％\\
4.2 LSTM による予測 0％\\
4.3 一様な多入力予測 0％\\
4.4 構造化多入力による予測 0％\\

5 実験結果 0％\\

6 考察 0％\\

7 まとめ 0％\\
7.1 まとめ 0％\\
7.2 今後の課題 0％

%\section{先週までの作業}
%\begin{itemize}
%
%\end{itemize}
\newpage
\section{先週の作業}
\begin{itemize}
    \item RNN と LSTM を用いた電力使用量のみを用いた予測を行なった. 複数入力の際の結果を出すのは時間がかかるので, 外れ値の検出はまず実際の数値のデータで行ってみる. 
\end{itemize}
    
\section{今週の作業}
\begin{itemize}
    \item 日にちごとの電気使用量のデータを使い外れ値の検出を行なった. 範囲の取り方によって外れ値扱いされる数が変わってくるので, いろんな範囲での外れ値の取り方をして予測に用いる. 
    \item オレンジ線が指数加重平均, オレンジ点が外れ値として検出された点, 薄い青が移動標準偏差の n 倍. 
    \item 修論発表を見据えた KP のスライド作成. 
%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{equation}
% MI(X,Y) = \sum_{i=1}^m\sum_{j=1}^np(x_i,y_j)log_2\flac{p(x_i,y_j)}{p(x_i)p(y_j)}
%\end{equation}
%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{table}[t]
\centering
  \caption{電力使用量と各項目の期間ごとの相関係数}
  \vspace{3mm}
  \begin{tabular}{|c||c|c|c|} \hline
     &  気温 & 降水量 & 天気 \\ \hline \hline
    時間 & 0.085 & -0.024 & -0.014 \\ \hline
    日付 & -0.069 & -0.069 & -0.13 \\ \hline
    週 & -0.075 & -0.20 & -0.050 \\ \hline
  \end{tabular}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{table}[t]
\centering
  \caption{電力使用量と気温の平均からの差の絶対値との相関係数}
  \vspace{3mm}
  \begin{tabular}{|c||c|} \hline
     &  気温 \\ \hline \hline
    時間 & 0.555 \\ \hline
    日付 & 0.798 \\ \hline
    週 & 0.905 \\ \hline
  \end{tabular}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{table}[t]
\centering
  \caption{電力使用量と各項目の期間ごとの相互情報量}
  \label{tab:soukankeisuu}
  \begin{tabular}{|c||c|c|c|} \hline
     &  気温 & 降水量 & 天気 \\ \hline
    時間 & 0.438 & 0.0423 & 0.0346 \\ \hline
    日にち & 0.851 & 0.419 & 0.284 \\ \hline
    週 & 0.999 & 0.889 & 0.643 \\ \hline
  \end{tabular}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{table}[t]
\centering
  \caption{電力使用量と気温の平均からの差の絶対値との相互情報量}
  \vspace{3mm}
  \begin{tabular}{|c||c|} \hline
     &  気温 \\ \hline \hline
    時間 & 0.438 \\ \hline
    日付 & 0.851 \\ \hline
    週 & 0.999 \\ \hline
  \end{tabular}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{itemize}
%\section{来週以降の作業}
%\begin{itemize}
%\end{itemize}
\end{document}
